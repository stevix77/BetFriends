{"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/MemberId.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/MemberId.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":21},"end":{"line":4,"column":3}},"line":2}},"branchMap":{},"s":{"0":5},"f":{"0":5},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/MemberId.ts"],"sourcesContent":["export class MemberId {\r\n    constructor(public Value: string) {}\r\n}"],"mappings":"AAAO,aAAM,SAAS;AAAA,EAClB,YAAmB,OAAe;AAAf;AAAA,EAAgB;AACvC;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"66820d50e981a2f907cd0f1fd8a0e49ea4f3211a"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/application/features/add-friend/AddFriendHandler.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/application/features/add-friend/AddFriendHandler.ts","statementMap":{"0":{"start":{"line":4,"column":4},"end":{"line":4,"column":53}},"1":{"start":{"line":5,"column":4},"end":{"line":5,"column":45}},"2":{"start":{"line":6,"column":4},"end":{"line":6,"column":35}},"3":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"4":{"start":{"line":10,"column":19},"end":{"line":10,"column":91}},"5":{"start":{"line":11,"column":23},"end":{"line":11,"column":68}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":58}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":2},"end":{"line":3,"column":3}},"loc":{"start":{"line":3,"column":79},"end":{"line":8,"column":3}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":2},"end":{"line":9,"column":3}},"loc":{"start":{"line":9,"column":24},"end":{"line":14,"column":3}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/application/features/add-friend/AddFriendHandler.ts"],"sourcesContent":["import { IFriendshipRepository } from \"../../../domain/friendships/IFriendshipRepository\";\r\nimport { IMemberRepository } from \"../../../domain/members/IMemberRepository\";\r\nimport { MemberId } from \"../../../domain/members/MemberId\";\r\nimport { IUserContext } from \"../../Abstractions/IUserContext\";\r\n\r\nexport class AddFriendCommandHandler {\r\n    constructor(private friendshipRepository: IFriendshipRepository,\r\n                private memberRepository: IMemberRepository,\r\n                private userContext: IUserContext,\r\n                private outputPort: IAddFriendOutputPort){}\r\n    async Handle(request: AddFriendCommand): Promise<void> {\r\n        const member = await this.memberRepository.GetByIdAsync(new MemberId(request.MemberId))\r\n        const friendship = member.AddFriendship(this.userContext.UserId)\r\n        await this.friendshipRepository.SaveAsync(friendship);\r\n        this.outputPort.Present();\r\n    }\r\n}\r\nexport interface AddFriendCommand {\r\n    MemberId: string;\r\n}\r\n\r\nexport interface IAddFriendOutputPort {\r\n    Present(): void;\r\n\r\n}"],"mappings":"AAEA,SAAS,gBAAgB;AAGlB,aAAM,wBAAwB;AAAA,EACjC,YAAoB,sBACA,kBACA,aACA,YAAiC;AAHjC;AACA;AACA;AACA;AAAA,EAAkC;AAAA,EACtD,MAAM,OAAO,SAA0C;AACnD,UAAM,SAAS,MAAM,KAAK,iBAAiB,aAAa,IAAI,SAAS,QAAQ,QAAQ,CAAC;AACtF,UAAM,aAAa,OAAO,cAAc,KAAK,YAAY,MAAM;AAC/D,UAAM,KAAK,qBAAqB,UAAU,UAAU;AACpD,SAAK,WAAW,QAAQ;AAAA,EAC5B;AACJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0f1962829e42200e21b11ffe3a4ed686a9248e44"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/Entity.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/Entity.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":27}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":42}},"2":{"start":{"line":7,"column":4},"end":{"line":7,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":16},"end":{"line":5,"column":3}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":2},"end":{"line":6,"column":3}},"loc":{"start":{"line":6,"column":24},"end":{"line":8,"column":3}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/Entity.ts"],"sourcesContent":["import { IDomainEvent } from \"./IDomainEvent\";\r\n\r\nexport abstract class Entity {\r\n    private domainEvents: IDomainEvent[] = [];\r\n    public DomainEvents: IDomainEvent[] = this.domainEvents;\r\n\r\n    protected AddDomainEvent(event: IDomainEvent) {\r\n        this.domainEvents.push(event);\r\n    }\r\n}"],"mappings":"AAEO,aAAe,OAAO;AAAA,EAAtB;AACH,SAAQ,eAA+B,CAAC;AACxC,SAAO,eAA+B,KAAK;AAAA;AAAA,EAEjC,eAAe,OAAqB;AAC1C,SAAK,aAAa,KAAK,KAAK;AAAA,EAChC;AACJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"47ce0ab32677f65bb502eae25f31753ee8fbd182"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/events/FriendshipsRequested.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/events/FriendshipsRequested.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":35}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":37},"end":{"line":5,"column":3}},"line":2}},"branchMap":{},"s":{"0":1,"1":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/events/FriendshipsRequested.ts"],"sourcesContent":["import { IDomainEvent } from \"../../IDomainEvent\";\r\n\r\nexport class FriendshipsRequested implements IDomainEvent {\r\n    constructor(public RequesterId: string, public FriendId: string){}\r\n}"],"mappings":"AAEO,aAAM,qBAA6C;AAAA,EACtD,YAAmB,aAA4B,UAAiB;AAA7C;AAA4B;AAAA,EAAkB;AACrE;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"18ce4ae1f0e8b791ed7fd3064073e2f86ec2d039"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/Friendship.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/Friendship.ts","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":12}},"1":{"start":{"line":6,"column":4},"end":{"line":6,"column":85}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":49}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":2},"end":{"line":4,"column":3}},"loc":{"start":{"line":4,"column":37},"end":{"line":7,"column":3}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":2},"end":{"line":8,"column":3}},"loc":{"start":{"line":8,"column":39},"end":{"line":10,"column":3}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/friendships/Friendship.ts"],"sourcesContent":["import { Entity } from \"../Entity\";\r\nimport { MemberId } from \"../members/MemberId\";\r\nimport { FriendshipsRequested } from './events/FriendshipsRequested';\r\n\r\nexport class Friendship extends Entity {\r\n\r\n    private constructor(requesterId: MemberId, memberId: MemberId){\r\n        super()\r\n        this.AddDomainEvent(new FriendshipsRequested(requesterId.Value, memberId.Value));\r\n    }\r\n\r\n    static Create(requesterId: MemberId, memberId: MemberId) {\r\n        return new Friendship(requesterId, memberId);\r\n    }\r\n    public FriendId: MemberId;\r\n    public RequesterId: MemberId;\r\n}"],"mappings":"AAAA,SAAS,cAAc;AAEvB,SAAS,4BAA4B;AAE9B,aAAM,mBAAmB,OAAO;AAAA,EAE3B,YAAY,aAAuB,UAAmB;AAC1D,UAAM;AACN,SAAK,eAAe,IAAI,qBAAqB,YAAY,OAAO,SAAS,KAAK,CAAC;AAAA,EACnF;AAAA,EAEA,OAAO,OAAO,aAAuB,UAAoB;AACrD,WAAO,IAAI,WAAW,aAAa,QAAQ;AAAA,EAC/C;AAGJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6135de7ac0ea3a2da0dbbc58c10cf40683a87be8"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/Member.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/Member.ts","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":30}},"1":{"start":{"line":8,"column":4},"end":{"line":8,"column":71}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":2},"end":{"line":4,"column":3}},"loc":{"start":{"line":4,"column":25},"end":{"line":6,"column":3}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":2},"end":{"line":7,"column":3}},"loc":{"start":{"line":7,"column":29},"end":{"line":9,"column":3}},"line":7}},"branchMap":{},"s":{"0":1,"1":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/src/domain/members/Member.ts"],"sourcesContent":["import { MemberId } from './MemberId'\r\nimport { Friendship } from '../friendships/Friendship';\r\n\r\nexport class Member {\r\n    constructor(public MemberId: MemberId){}\r\n\r\n    AddFriendship(requesterId: string) {\r\n        return Friendship.Create(new MemberId(requesterId), this.MemberId);\r\n    }\r\n}"],"mappings":"AAAA,SAAS,gBAAgB;AACzB,SAAS,kBAAkB;AAEpB,aAAM,OAAO;AAAA,EAChB,YAAmBA,WAAmB;AAAnB,oBAAAA;AAAA,EAAoB;AAAA,EAEvC,cAAc,aAAqB;AAC/B,WAAO,WAAW,OAAO,IAAI,SAAS,WAAW,GAAG,KAAK,QAAQ;AAAA,EACrE;AACJ;","names":["MemberId"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c2b826cfb9d5264586ceb9c29adf8f4dc7f6c59"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubAddFriendPresenter.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubAddFriendPresenter.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":12},"end":{"line":4,"column":3}},"line":2}},"branchMap":{},"s":{"0":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubAddFriendPresenter.ts"],"sourcesContent":["import { IAddFriendOutputPort } from \"../../../src/application/features/add-friend/AddFriendHandler\";\r\n\r\nexport class StubAddFriendPresenter implements IAddFriendOutputPort {\r\n    Present(): void {\r\n        this.FriendAdded = true;\r\n    }\r\n    FriendAdded: boolean;\r\n}"],"mappings":"AAEO,aAAM,uBAAuD;AAAA,EAChE,UAAgB;AACZ,SAAK,cAAc;AAAA,EACvB;AAEJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"70416d49e14b4307e084f17b3c4e5f4eed86ec3b"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubFriendshipRepository.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubFriendshipRepository.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":26}},"1":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}},"2":{"start":{"line":7,"column":4},"end":{"line":7,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":16},"end":{"line":4,"column":3}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":2},"end":{"line":5,"column":3}},"loc":{"start":{"line":5,"column":24},"end":{"line":8,"column":3}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubFriendshipRepository.ts"],"sourcesContent":["import { Friendship } from \"../../../src/domain/friendships/Friendship\";\r\nimport { IFriendshipRepository } from \"../../../src/domain/friendships/IFriendshipRepository\";\r\n\r\nexport class StubFriendshipRepository implements IFriendshipRepository {\r\n    \r\n    Friendships: Friendship[] = []\r\n\r\n    SaveAsync(friendship: Friendship): Promise<void> {\r\n        this.Friendships.push(friendship);\r\n        return Promise.resolve();\r\n    }\r\n}"],"mappings":"AAGO,aAAM,yBAA0D;AAAA,EAAhE;AAEH,uBAA4B,CAAC;AAAA;AAAA,EAE7B,UAAU,YAAuC;AAC7C,SAAK,YAAY,KAAK,UAAU;AAChC,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AACJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ffe0797e93b2ca80f9e22f3cbf4d329427a003f1"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubMemberRepository.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubMemberRepository.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":25}},"1":{"start":{"line":6,"column":4},"end":{"line":6,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":3}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":2},"end":{"line":5,"column":3}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":3}},"line":5}},"branchMap":{},"s":{"0":1,"1":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubMemberRepository.ts"],"sourcesContent":["import { IMemberRepository } from \"../../../src/domain/members/IMemberRepository\";\r\nimport { Member } from \"../../../src/domain/members/Member\";\r\nimport { MemberId } from \"../../../src/domain/members/MemberId\";\r\n\r\nexport class StubMemberRepository implements IMemberRepository {\r\n    constructor(private member: Member){}\r\n    GetByIdAsync(memberId: MemberId): PromiseLike<Member> {\r\n        return Promise.resolve(this.member);\r\n    }\r\n}"],"mappings":"AAIO,aAAM,qBAAkD;AAAA,EAC3D,YAAoB,QAAe;AAAf;AAAA,EAAgB;AAAA,EACpC,aAAa,UAAyC;AAClD,WAAO,QAAQ,QAAQ,KAAK,MAAM;AAAA,EACtC;AACJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"022cad037ea57164abc86a1001fea61a485be49d"},"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubUserContext.ts":{"path":"D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubUserContext.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":2},"end":{"line":2,"column":3}},"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":3}},"line":2}},"branchMap":{},"s":{"0":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"sources":["D:/Workspaces/OSS/BetFriends/Back/NodeJS/tests/unit/implems/StubUserContext.ts"],"sourcesContent":["import { IUserContext } from \"../../../src/application/Abstractions/IUserContext\";\r\n\r\nexport class StubUserContext implements IUserContext {\r\n    constructor(public UserId: string){}\r\n}"],"mappings":"AAEO,aAAM,gBAAwC;AAAA,EACjD,YAAmB,QAAe;AAAf;AAAA,EAAgB;AACvC;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"83f58fcc421f9fb184903250055d39667da5c433"}}